(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{360:function(e,t,a){e.exports=a.p+"assets/img/uefi-tool.5f61054a.png"},361:function(e,t,a){e.exports=a.p+"assets/img/cfg-find.cf3041e6.png"},485:function(e,t,a){"use strict";a.r(t);var r=a(25),o=Object(r.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"arreglar-cfg-lock"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#arreglar-cfg-lock"}},[e._v("#")]),e._v(" Arreglar CFG Lock")]),e._v(" "),r("p",[e._v("Ten en cuenta que solo se recomienda hacer esto para usarios que ya han instalado macOS. Para usarios que están a instalar por la primera vez, activen "),r("code",[e._v("AppleCpuPmCfgLock")]),e._v(" y "),r("code",[e._v("AppleXcpmCfgLock")]),e._v(" en "),r("code",[e._v("Kernel -> Quirks")])]),e._v(" "),r("h2",{attrs:{id:"¿que-es-cfg-lock"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#¿que-es-cfg-lock"}},[e._v("#")]),e._v(" ¿Qué es CFG-Lock?")]),e._v(" "),r("p",[e._v("CFG-Lock es un ajuste en tu BIOS que allows for a specific register(en este caso el MSR 0xE2) to be written to. By default, most motherboards lock this variable with many even hiding the option outright en la GUI. Y la razón por la que nos importa esto es que macOS actually wants to write to this variable, and not just one part of macOS. Instead both el Kernel(XNU) y AppleIntelPowerManagement quieren acceder este registro.")]),e._v(" "),r("p",[e._v("Para arreglarlo tenemos 2 opciones:")]),e._v(" "),r("ol",[r("li",[e._v("Parchear macOS para que funcione con nuestro hardware")])]),e._v(" "),r("ul",[r("li",[e._v("Esto crea inestabilidad y unnecessary patching for many")]),e._v(" "),r("li",[e._v("Los 2 parches que usamos para esto:\n"),r("ul",[r("li",[r("code",[e._v("AppleCpuPmCfgLock")]),e._v(" para AppleIntelPowerManagement.kext")]),e._v(" "),r("li",[r("code",[e._v("AppleXcpmCfgLock")]),e._v(" para el Kernel(XNU)")])])])]),e._v(" "),r("ol",{attrs:{start:"2"}},[r("li",[e._v("Parchear nuestro firmware para support MSR E2 write")])]),e._v(" "),r("ul",[r("li",[e._v("Very much preferred, as avoids patching allowing for greater flexibility regarding stability and OS upgrades")])]),e._v(" "),r("p",[e._v("Note: Sistemas basados en Penyrn actually don't need to worry about desbloquear este registro")]),e._v(" "),r("h2",{attrs:{id:"desactivar-cfg-lock"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#desactivar-cfg-lock"}},[e._v("#")]),e._v(" Desactivar CFG Lock")]),e._v(" "),r("p",[e._v("So you've installed macOS but you're using those pesky "),r("code",[e._v("CFG-Lock")]),e._v(" patches that we want to get rid of, well to do this is fairly simple. Necesitarás lo seguiente:")]),e._v(" "),r("p",[e._v("Dentro tu carpeta de EFI/OC/Tools y config.plist:")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/acidanthera/OpenCorePkg/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("VerifyMsrE2"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/datasone/grub-mod-setup_var/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("Modified GRUB Shell"),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("Y unas apps para ayudarnos:")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/LongSoft/UEFITool/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("UEFITool"),r("OutboundLink")],1),e._v(" (Make sure it's UEFITool and not UEFIExtrac)")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/LongSoft/Universal-IFR-Extractor/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("Universal-IFR-Extractor"),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("Y no olvides desactivar lo siguiente desde tu config.plist en "),r("code",[e._v("Kernel -> Quirks")]),e._v(":")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("AppleCpuPmCfgLock")])]),e._v(" "),r("li",[r("code",[e._v("AppleXcpmCfgLock")])])]),e._v(" "),r("p",[e._v("And the final part, descargar tu BIOS desde el sitio del vendedor.")]),e._v(" "),r("p",[e._v("Now the fun part!")]),e._v(" "),r("h2",{attrs:{id:"checking-si-se-puede-desactivar-cfg-lock"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#checking-si-se-puede-desactivar-cfg-lock"}},[e._v("#")]),e._v(" Checking si se puede desactivar CFG-Lock")]),e._v(" "),r("p",[e._v("Boot OpenCore y selecciona "),r("code",[e._v("VerifyMsrE2")]),e._v(" en el picker. Esta herraminete te contrará si tu BIOS supports CFG-Lock y si puede ser desbloqueado.")]),e._v(" "),r("h2",{attrs:{id:"desactivar-cfg-lock-manualmente"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#desactivar-cfg-lock-manualmente"}},[e._v("#")]),e._v(" Desactivar CFG-Lock manualmente")]),e._v(" "),r("ol",[r("li",[e._v("Abre tu firmware con UEFITool y luego buscar "),r("code",[e._v("CFG Lock")]),e._v(" como a Unicode string. If nothing pops up then your firmware doesn't support "),r("code",[e._v("CFG Lock")]),e._v(", otherwise continue on.")])]),e._v(" "),r("p",[r("img",{attrs:{src:a(360),alt:""}})]),e._v(" "),r("ol",[r("li",[r("p",[e._v("You'll find that this string is found within a Setup folder, right-click and export as "),r("code",[e._v("Setup.bin")])])]),e._v(" "),r("li",[r("p",[e._v("Open your setup file with "),r("code",[e._v("ifrextract")]),e._v(" y exportar como un archivo .txt con la terminal:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("dirreción/para/ifrextract dirección/para/Setup.bin dirección/para/Setup.txt\n")])])])]),e._v(" "),r("li",[r("p",[e._v("Abre el archivo txt y busca "),r("code",[e._v("CFG Lock, VarStoreInfo (VarOffset/VarName):")]),e._v(" y apunta el offset right after it(ie: "),r("code",[e._v("0x5A4")]),e._v(")")])])]),e._v(" "),r("p",[r("img",{attrs:{src:a(361),alt:""}})]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Corre la Modified GRUB Shell y pegar lo siguiente donde "),r("code",[e._v("0x5A4")]),e._v(" es reemplazaddddo con tu value:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("setup_var 0x5A4 0x00\n")])])]),r("p",[e._v("Do note that variable offsets are unique not just to each motherboard but even to its firmware version. "),r("strong",[e._v("Nunca usen un offset sin revisar.")])])])]),e._v(" "),r("p",[e._v("And you're done! Now you'll have correct CPU power management")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Note")]),e._v(": Cada vez que reseteas tu BIOS you will need to flip this bit again, make sure to write it down with the BIOS version so you know which.")])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("Note 2")]),e._v(": Algunos OEMs como Lenovo talvez tienen el variable pusta pero no te dejan desbloquearlo sin modificar físicamente el BIOS, for these situations you may need to use una herramineta como "),r("a",{attrs:{href:"http://ruexe.blogspot.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("RU"),r("OutboundLink")],1),e._v(": "),r("a",{attrs:{href:"https://www.reddit.com/r/hackintosh/comments/hz2rtm/cfg_lockunlocking_alternative_method/",target:"_blank",rel:"noopener noreferrer"}},[e._v("CFG LOCK/Unlocking - Alternative method"),r("OutboundLink")],1)])])])])}),[],!1,null,null,null);t.default=o.exports}}]);